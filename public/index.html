<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>水质数据平台</title>
  <link rel="stylesheet" href="/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h2>水质检测数据平台</h2>
    <nav>
      <a class="active" href="/index.html">数据展示</a>
      <a href="/devices.html">设备管理</a>
      <a href="/deepseek.html">DeepSeek 分析</a>
      <a href="/commands.html">指令执行</a>
    </nav>
  </header>

  <div class="container">
    <div class="card">
      <h3>查询条件</h3>
      <div class="row">
        <label>设备ID
          <select id="deviceId">
            <option value="">全部设备</option>
          </select>
        </label>
        <label>
          实时更新
          <select id="realtimeMode">
            <option value="on" selected>开启</option>
            <option value="off">关闭</option>
          </select>
        </label>
        <label>开始时间 <input id="startTime" type="datetime-local" /></label>
        <label>结束时间 <input id="endTime" type="datetime-local" /></label>
        <button id="queryBtn">查询范围数据</button>
        <button id="range1h" class="secondary" type="button">最近1小时</button>
        <button id="range24h" class="secondary" type="button">最近24小时</button>
        <button id="range7d" class="secondary" type="button">最近7天</button>
      </div>
    </div>

    <div class="card">
      <h3 class="summary-heading">
        <span>数据概览</span>
        <span id="summaryRange" class="summary-range">时间范围：--</span>
      </h3>
      <div class="stat-grid" id="summaryCards">
        <div class="stat-item">
          <span class="stat-label">样本总数</span>
          <strong class="stat-value">0</strong>
        </div>
      </div>
    </div>

    <div class="card">
      <h3>趋势图（全部数据项）</h3>
      <div class="chart-wrap">
        <canvas id="lineChart"></canvas>
      </div>
    </div>

    <div class="card">
      <h3>明细数据</h3>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>时间</th>
              <th>设备</th>
              <th>上报ID</th>
              <th>TDS</th>
              <th>COD</th>
              <th>TOC</th>
              <th>UV254</th>
              <th>pH</th>
              <th>Tem</th>
              <th>Tur</th>
              <th>air_temp</th>
              <th>air_hum</th>
              <th>pressure</th>
              <th>altitude</th>
              <th>原始上报JSON</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="/scripts/index.js"></script>
</body>
</html>
